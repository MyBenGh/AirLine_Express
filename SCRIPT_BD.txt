-- Généré par Oracle SQL Developer Data Modeler 19.4.0.350.1424
--   à :        2021-02-10 16:00:35 EST
--   site :      Oracle Database 11g
--   type :      Oracle Database 11g

CREATE DATABASE db_airline_express;

CREATE TABLE client (
    id_client      int(11) NOT NULL,
    nom_client     VARCHAR(50) NOT NULL,
    prenom_client  VARCHAR(50) NOT NULL,
    courriel       VARCHAR(50) NOT NULL
);

ALTER TABLE client ADD CONSTRAINT client_pk PRIMARY KEY ( id_client );

CREATE TABLE compte (
    id_compte         int(11) NOT NULL,
    nom_user          VARCHAR(20) NOT NULL,
    mot_de_passe      VARCHAR(20) NOT NULL,
    client_id_client  int NOT NULL 
);

ALTER TABLE compte ADD CONSTRAINT compte_pk PRIMARY KEY ( id_compte );

CREATE TABLE facture (
    id_facture        int(11) NOT NULL,
    date_fact         DATE NOT NULL,
    desc_fact         text,
    prix              int,
    client_id_client  int NOT NULL
);

ALTER TABLE facture ADD CONSTRAINT facture_pk PRIMARY KEY ( id_facture );

CREATE TABLE reservation (
    id_reservation      int(11) NOT NULL,
    date_fac            DATE NOT NULL,
    prix                int,
    desc_res            text,
    client_id_client    int NOT NULL,
    vol_id_vol          int NOT NULL,
    facture_id_facture  int NOT NULL
);

CREATE UNIQUE INDEX reservation__idx ON
    reservation (
        facture_id_facture
    ASC );

ALTER TABLE reservation ADD CONSTRAINT reservation_pk PRIMARY KEY ( id_reservation );

CREATE TABLE vol (
    id_vol            int(11) NOT NULL,
    nom_vol           VARCHAR(50),
    date_vol            DATE,
    num_siege         int,
    pays_origine      VARCHAR(100),
    pays_destination  VARCHAR(50)
);

ALTER TABLE vol ADD CONSTRAINT vol_pk PRIMARY KEY ( id_vol );

ALTER TABLE compte
    ADD CONSTRAINT compte_client_fk FOREIGN KEY ( client_id_client )
        REFERENCES client ( id_client );

ALTER TABLE facture
    ADD CONSTRAINT facture_client_fk FOREIGN KEY ( client_id_client )
        REFERENCES client ( id_client );

ALTER TABLE reservation
    ADD CONSTRAINT reservation_client_fk FOREIGN KEY ( client_id_client )
        REFERENCES client ( id_client );

ALTER TABLE reservation
    ADD CONSTRAINT reservation_facture_fk FOREIGN KEY ( facture_id_facture )
        REFERENCES facture ( id_facture );

ALTER TABLE reservation
    ADD CONSTRAINT reservation_vol_fk FOREIGN KEY ( vol_id_vol )
        REFERENCES vol ( id_vol );



-- Rapport récapitulatif d'Oracle SQL Developer Data Modeler : 
-- 
-- CREATE TABLE                             5
-- CREATE INDEX                             1
-- ALTER TABLE                             10
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
